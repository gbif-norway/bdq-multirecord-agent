:root {
  /* Pastel palette */
  --p-rose: #FBCFE8;    /* rose-200 */
  --p-amber: #FDE68A;   /* amber-200 */
  --p-sky: #BAE6FD;     /* sky-200 */
  --p-emerald: #A7F3D0; /* emerald-200 */
  --p-indigo: #C7D2FE;  /* indigo-200 */

  /* UI colors */
  --bg: #f8fafb;
  --card: #ffffff;
  --muted: #6b7280;
  --text: #0f172a;
  --accent: var(--p-indigo);
  --accent-2: var(--p-amber);
  --border: #e5e7eb;

  /* Chips */
  --chip-bg: #eef2ff;
  --chip-text: #0f172a;
}

html, body { 
  height: 100%; 
}

body {
  margin: 0;
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
  background: var(--bg);
  color: var(--text);
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

.container { 
  max-width: 1200px; 
  margin: 0 auto; 
  padding: 20px; 
}

/* Header */
header {
  position: sticky; 
  top: 0; 
  z-index: 5;
  background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.85));
  backdrop-filter: saturate(160%) blur(6px);
  border-bottom: 1px solid var(--border);
}

.header-inner { 
  display: flex; 
  align-items: center; 
  justify-content: space-between; 
  gap: 16px; 
  padding: 16px 20px; 
}

.brand {
  display: flex; 
  align-items: baseline; 
  gap: 12px; 
  flex-wrap: wrap;
}

.brand h1 { 
  font-size: 20px; 
  font-weight: 700; 
  margin: 0; 
}

.brand .file-name { 
  font-size: 16px; 
  font-weight: 500; 
  color: var(--muted); 
}

.source-input { 
  display: none; 
}

.icons { 
  display: flex; 
  gap: 12px; 
  align-items: center; 
}

.icons i { 
  font-size: 18px; 
  padding: 8px; 
  border-radius: 10px; 
  border: 1px solid var(--border); 
}

.icon-bio { 
  color: #0ea5e9; 
  background: var(--p-sky); 
  border-color: #93c5fd; 
}

.icon-chart { 
  color: #f59e0b; 
  background: var(--p-amber); 
  border-color: #fde68a; 
}

.icon-table { 
  color: #22c55e; 
  background: var(--p-emerald); 
  border-color: #a7f3d0; 
}

.source-input input {
  padding: 8px 10px; 
  min-width: 280px; 
  max-width: 520px; 
  border: 1px solid var(--border); 
  border-radius: 8px;
  background: var(--card);
}

.source-input button { 
  background: var(--accent); 
  color: white; 
  border: 0; 
  padding: 8px 12px; 
  border-radius: 8px; 
  font-weight: 600; 
  cursor: pointer; 
}

.source-input button:disabled { 
  opacity: 0.6; 
  cursor: not-allowed; 
}

.note { 
  color: var(--muted); 
  font-size: 12px; 
}

/* KPIs */
.kpis { 
  display: grid; 
  grid-template-columns: repeat(6, 1fr); 
  gap: 16px; 
  margin: 22px 0; 
}

.kpi { 
  background: var(--card); 
  border: 1px solid var(--border); 
  border-radius: 14px; 
  padding: 16px; 
  transition: box-shadow .12s ease, transform .12s ease, border-color .12s ease, background-color .12s ease; 
}

.kpi:hover { 
  border-color: #cbd5e1; 
  box-shadow: 0 6px 14px rgba(2,6,23,0.08); 
  transform: translateY(-2px); 
  background: #ffffff; 
}

.kpi .label { 
  color: var(--muted); 
  font-size: 12px; 
}

.kpi .value { 
  font-size: 24px; 
  font-weight: 700; 
  margin-top: 6px; 
}

.kpi .sub { 
  font-size: 12px; 
  color: var(--muted); 
  margin-top: 4px; 
}

/* Sections */
.section { 
  margin: 26px 0; 
}

.section h2 { 
  font-size: 18px; 
  margin: 0 0 12px 0; 
}

.card { 
  background: var(--card); 
  border: 1px solid var(--border); 
  border-radius: 14px; 
  padding: 16px; 
}

.flex { 
  display: flex; 
  gap: 16px; 
  align-items: stretch; 
}

.grid-2 { 
  display: grid; 
  grid-template-columns: 1fr 1fr; 
  gap: 16px; 
}

.grid-3 { 
  display: grid; 
  grid-template-columns: 1fr 1fr 1fr; 
  gap: 16px; 
}

/* Lists */
.list { 
  display: grid; 
  gap: 10px; 
}

.list-item { 
  border: 1px solid var(--border); 
  border-radius: 12px; 
  padding: 12px; 
  background: #fff; 
  cursor: pointer; 
}

.list-item:hover { 
  background: #fafafa; 
}

.list-item.color-left { 
  border-left-width: 6px; 
  border-left-style: solid; 
}

.item-title { 
  display: flex; 
  align-items: center; 
  justify-content: space-between; 
  gap: 8px; 
}

.badge { 
  font-size: 11px; 
  background: #eef2f1; 
  color: var(--brand-deep); 
  padding: 2px 8px; 
  border-radius: 999px; 
  border: 1px solid #e2e8f0; 
}

.pill { 
  font-size: 12px; 
  padding: 3px 8px; 
  border-radius: 999px; 
  border: 1px solid var(--border); 
  background: #f8fafc; 
  color: #334155; 
}

.muted { 
  color: var(--muted); 
}

.chips { 
  display: flex; 
  gap: 6px; 
  flex-wrap: wrap; 
}

.chips span { 
  background: var(--chip-bg); 
  color: var(--chip-text); 
  border-radius: 999px; 
  padding: 3px 8px; 
  border: 1px solid var(--border); 
  font-size: 12px; 
}

.details { 
  margin-top: 10px; 
  color: #334155; 
}

.tops { 
  margin-top: 8px; 
  font-size: 12px; 
  color: var(--brand-deep); 
}

.tops .field { 
  font-weight: 600; 
  margin-right: 6px; 
}

.tops .val { 
  background: #f1f5f9; 
  border: 1px solid var(--border); 
  border-radius: 999px; 
  padding: 2px 8px; 
  margin-right: 6px; 
  display: inline-block; 
}

.chart-wrap { 
  height: 360px; 
}

.footer-note { 
  color: var(--muted); 
  font-size: 12px; 
  margin-top: 8px; 
}

/* Utility classes */
.hidden { 
  display: none !important; 
}

.sr { 
  position: absolute; 
  left: -10000px; 
  top: auto; 
  width: 1px; 
  height: 1px; 
  overflow: hidden; 
}

.toast { 
  position: fixed; 
  bottom: 16px; 
  right: 16px; 
  background: #111827; 
  color: white; 
  padding: 10px 12px; 
  border-radius: 10px; 
  font-size: 13px; 
  opacity: 0.95; 
}

.danger { 
  color: var(--danger); 
}

/* Modal */
.modal-overlay { 
  position: fixed; 
  inset: 0; 
  background: rgba(15, 23, 42, 0.4); 
  display: none; 
  align-items: center; 
  justify-content: center; 
  z-index: 20; 
}

.modal-overlay.show { 
  display: flex; 
}

.modal { 
  background: var(--card); 
  border: 1px solid var(--border); 
  border-radius: 16px; 
  max-width: 960px; 
  width: calc(100% - 32px); 
  max-height: calc(100% - 32px); 
  overflow: auto; 
  box-shadow: 0 16px 36px rgba(15,23,42,0.15); 
}

.modal header { 
  position: sticky; 
  top: 0; 
  background: #fff; 
  color: var(--text); 
  border-bottom: 1px solid var(--border); 
  padding: 14px 18px; 
  display: flex; 
  justify-content: space-between; 
  align-items: center; 
  border-top-left-radius: 16px; 
  border-top-right-radius: 16px; 
}

.modal header h3 { 
  margin: 0; 
  font-size: 18px; 
  font-weight: 700; 
}

.modal .content { 
  padding: 18px; 
  display: block; 
}

@media (max-width: 900px) { 
  .modal .content { 
    display: block; 
  } 
}

.modal .close { 
  background: transparent; 
  border: none; 
  font-size: 20px; 
  cursor: pointer; 
  line-height: 1; 
}

.modal .section-block { 
  background: #fafafa; 
  border: 1px solid #e5e7eb; 
  border-radius: 12px; 
  padding: 12px; 
}

.modal .section-title { 
  font-weight: 600; 
  color: var(--text); 
  margin-bottom: 6px; 
  font-size: 14px; 
}

.modal .counts { 
  display: flex; 
  flex-wrap: wrap; 
  gap: 6px; 
}

.modal .count-pill { 
  background: #fff; 
  border: 1px solid #e5e7eb; 
  color: var(--text); 
  border-radius: 999px; 
  padding: 3px 10px; 
  font-size: 12px; 
}

.modal .kv { 
  display: grid; 
  grid-template-columns: auto 1fr; 
  gap: 4px 10px; 
  align-items: baseline; 
}

.modal .kv .k { 
  color: var(--muted); 
  font-size: 12px; 
}

.modal .kv .v { 
  color: var(--text); 
  font-weight: 500; 
  font-size: 13px; 
}

.modal .desc { 
  font-size: 16px; 
  line-height: 1.5; 
  color: var(--text); 
}

.modal .pill-soft { 
  display: inline-block; 
  padding: 4px 10px; 
  border-radius: 999px; 
  background: var(--p-indigo); 
  color: #111827; 
  border: 1px solid #e5e7eb; 
  font-size: 12px; 
}

.legend-chip { 
  display: inline-flex; 
  align-items: center; 
  gap: 6px; 
  padding: 4px 10px; 
  border-radius: 999px; 
  border: 1px solid #e5e7eb; 
  background: #fff; 
  color: #0f172a; 
  font-size: 12px; 
  margin-right: 6px; 
  margin-bottom: 6px; 
}

.legend-dot { 
  width: 10px; 
  height: 10px; 
  border-radius: 999px; 
  display: inline-block; 
}

/* Tooltip */
.tip { 
  position: relative; 
  display: inline-flex; 
  align-items: center; 
  justify-content: center; 
  cursor: help; 
}

.tip i {
  color: #f59e0b;
  font-size: 14px;
  margin-left: 8px;
}

.tip .tiptext { 
  position: absolute; 
  left: 0; 
  top: 26px; 
  min-width: 260px; 
  max-width: 420px; 
  background: #0f172a; 
  color: #fff; 
  padding: 10px 12px; 
  border-radius: 10px; 
  font-size: 12px; 
  box-shadow: 0 10px 30px rgba(2,6,23,0.25); 
  border: 1px solid #e5e7eb; 
  opacity: 0; 
  visibility: hidden; 
  transition: opacity .12s ease; 
  z-index: 15; 
}

.tip:hover .tiptext { 
  opacity: 0.98; 
  visibility: visible; 
}

/* Amendment table styling */
.amendment-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 12px;
  margin-top: 8px;
}

.amendment-table th {
  background: #f8fafb;
  border-bottom: 1px solid #e5e7eb;
  padding: 6px 8px;
  text-align: left;
  font-weight: 600;
  font-size: 11px;
  color: var(--muted);
}

.amendment-table td {
  padding: 6px 8px;
  border-bottom: 1px solid #f1f5f9;
  font-size: 11px;
}

.amendment-table tr:hover td {
  background: #f8fafb;
}
